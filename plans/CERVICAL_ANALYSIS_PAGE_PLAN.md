# 宫颈分析页面需求文档

## 1. 页面概述

### 1.1 功能目标
宫颈分析页面专注于女性宫颈健康的数据追踪与分析，通过记录宫颈位置、硬度、开口度等关键指标，结合月经周期和症状数据，帮助用户了解宫颈变化规律，识别潜在健康问题。

### 1.2 核心价值
- **宫颈健康监测**：系统记录和分析宫颈变化数据
- **周期关联分析**：揭示宫颈变化与月经周期的关系
- **异常预警**：识别宫颈异常变化并提供预警
- **健康教育**：提供宫颈健康相关知识和指导

## 2. 功能需求

### 2.1 宫颈数据记录
- **宫颈位置记录**：记录宫颈在阴道中的位置（高/中/低）
- **宫颈硬度记录**：记录宫颈的软硬程度（软/中/硬）
- **宫颈开口记录**：记录宫颈口的开口程度（闭合/微开/开放）
- **触感描述**：记录宫颈表面的触感特征
- **观察时间**：记录观察日期和时间（建议在固定时间）

### 2.2 宫颈变化追踪
- **位置变化趋势**：追踪宫颈位置在周期中的变化规律
- **硬度变化分析**：分析宫颈硬度随周期的变化
- **开口度监测**：监测宫颈开口度的变化情况
- **综合变化模式**：识别宫颈综合变化的模式

### 2.3 周期关联分析
- **排卵期识别**：通过宫颈变化识别排卵期
- **月经期变化**：分析月经期宫颈的变化特征
- **周期模式分析**：分析宫颈变化与月经周期的关联性
- **个体差异分析**：识别用户的宫颈变化个体特征

### 2.4 AI智能分析
- **宫颈模式识别**：使用AI算法识别宫颈变化的个体模式
- **排卵期智能检测**：通过AI分析提高排卵期识别准确性
- **异常变化预测**：预测可能出现的异常宫颈变化
- **健康风险评估**：基于AI模型评估宫颈健康风险

### 2.5 健康评估与预警
- **宫颈健康评分**：基于记录数据生成宫颈健康评分
- **异常变化识别**：识别异常的宫颈变化模式
- **健康风险预警**：对潜在健康风险提供预警
- **就医建议**：根据分析结果提供就医建议

## 3. 页面设计

### 3.1 页面布局
```
+----------------------------------------------------+
| 顶部状态栏                                         |
| [用户头像]  [通知]  [设置]                         |
+----------------------------------------------------+
| 今日宫颈状态                                       |
| 位置: 中      硬度: 中      开口: 闭合             |
| [记录今日状态] [查看历史]                          |
+----------------------------------------------------+
| 数据记录区域                                       |
| 日期      位置    硬度    开口    触感            |
| 5月1日    高      软      微开    光滑            |
| 5月5日    中      中      闭合    粗糙            |
| 5月10日   低      硬      闭合    坚硬            |
+----------------------------------------------------+
| 变化趋势图表                                       |
| [宫颈位置变化图]  [宫颈硬度变化图]                 |
| [宫颈开口度图]                                    |
+----------------------------------------------------+
| 周期关联分析                                       |
| [排卵期识别]  [月经期变化]  [个体模式]            |
+----------------------------------------------------+
| 健康评估                                           |
| 宫颈健康评分: 85分  [查看详情]                     |
| [异常预警]  [就医建议]  [健康知识]                 |
+----------------------------------------------------+
| 底部导航栏                                         |
| [生理期] [孕期] [宫颈] [生理用品] [我的]           |
+----------------------------------------------------+

导航项说明:
- **生理期**：跳转至生理期管理页面，进行月经周期记录和症状追踪
- **孕期**：跳转至孕期管理页面，进行备孕和孕期健康管理
- **宫颈**：当前页面，查看宫颈健康分析
- **生理用品**：跳转至生理用品分析页面，分析卫生用品使用情况
- **我的**：跳转至个人中心页面，查看个人设置和数据管理

```

### 3.2 交互设计
- **快速记录**：提供便捷的宫颈状态记录界面
- **图表交互**：支持点击查看图表详细信息
- **数据筛选**：支持按时间范围筛选数据
- **详细查看**：支持查看单条记录的详细信息

## 4. 技术实现

### 4.1 数据模型
```kotlin
data class CervicalRecord(
    val id: String = UUID.randomUUID().toString(),
    val date: Date, // 记录日期
    val position: CervicalPosition, // 宫颈位置
    val firmness: CervicalFirmness, // 宫颈硬度
    val opening: CervicalOpening, // 宫颈开口度
    val texture: String?, // 宫颈表面触感描述
    val notes: String?, // 备注
    val cycleDay: Int?, // 月经周期第几天
    val relatedSymptoms: List<MenstrualSymptom>, // 相关症状
    val createdAt: Date = Date(),
    val updatedAt: Date = Date()
)

enum class CervicalPosition(val displayName: String) {
    HIGH("高"), // 宫颈位置较高，手指难以触及
    MEDIUM("中"), // 宫颈位置适中
    LOW("低") // 宫颈位置较低，容易触及
}

enum class CervicalFirmness(val displayName: String) {
    SOFT("软"), // 宫颈较软，类似嘴唇触感
    MEDIUM("中"), // 宫颈软硬适中
    HARD("硬") // 宫颈较硬，类似鼻尖触感
}

enum class CervicalOpening(val displayName: String) {
    CLOSED("闭合"), // 宫颈口完全闭合
    SLIGHTLY_OPEN("微开"), // 宫颈口微微张开
    OPEN("开放") // 宫颈口明显张开
}

data class CervicalAnalysisResult(
    val healthScore: Int, // 宫颈健康评分(0-100)
    val positionPattern: PositionPattern, // 位置变化模式
    val firmnessPattern: FirmnessPattern, // 硬度变化模式
    val openingPattern: OpeningPattern, // 开口度变化模式
    val ovulationIndicators: List<OvulationIndicator>, // 排卵指标
    val abnormalChanges: List<AbnormalChange>, // 异常变化
    val healthInsights: List<HealthInsight>, // 健康洞察
    val recommendations: List<Recommendation> // 建议
)
```

### 4.2 核心算法
- **模式识别算法**：识别宫颈变化的周期性模式
- **排卵期检测算法**：通过宫颈变化识别排卵期
- **异常检测算法**：识别异常的宫颈变化
- **健康评分算法**：基于多项指标计算宫颈健康评分

## 5. 性能要求

### 5.1 响应时间
- 页面加载时间：≤ 1.5秒
- 数据保存时间：≤ 0.5秒
- 分析计算时间：≤ 2秒

### 5.2 内存使用
- 页面内存占用：≤ 30MB
- 图表渲染内存：≤ 15MB

## 6. 安全与隐私

### 6.1 数据保护
- 所有数据本地存储，采用AES-256加密
- 敏感数据（宫颈检查数据）加强保护
- 数据导出时进行加密处理

### 6.2 权限要求
- 存储权限：用于数据备份和导出
- 通知权限（可选）：用于发送提醒通知

## 7. 测试计划

### 7.1 功能测试
- 验证数据记录功能的完整性和准确性
- 验证图表显示正确性
- 验证分析算法准确性
- 验证预警功能及时性

### 7.2 性能测试
- 大量数据记录性能测试
- 分析算法性能测试
- 页面响应速度测试

### 7.3 兼容性测试
- 不同Android版本兼容性测试
- 不同屏幕尺寸适配测试

## 8. 项目计划

### 8.1 开发周期
- 需求分析：1周
- UI设计：1周
- 核心功能开发：3周
- 测试与优化：1周
- 总计：6周

### 8.2 里程碑
- [ ] 完成页面UI设计
- [ ] 实现宫颈数据记录功能
- [ ] 完成图表可视化功能
- [ ] 实现健康分析和预警功能
- [ ] 完成测试与优化

